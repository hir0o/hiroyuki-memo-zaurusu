# sortとuniqによる集計

これを集計する

```
$ seq 5 | awk '{print $1 % 2 ? "奇数" : "偶数"}'
奇数
偶数
奇数
偶数
奇数
```

sortで、ソートできる

```
$ seq 5 | awk '{print $1 % 2 ? "奇数" : "偶数"}' | sort
偶数
偶数
奇数
奇数
奇数
```

uniqで、重複する行を削除できる。

-c オプションで個数がカウントできる

```
$ seq 5 | awk '{print $1 % 2 ? "奇数" : "偶数"}' | sort | uniq -c
   2 偶数
   3 奇数
```

awkで表示を整える

```
$ seq 5 | awk '{print $1 % 2 ? "奇数" : "偶数"}' | sort | uniq -c | awk '{print $2$1}'
偶数2
奇数3
```

kオプションでソートする列を指定できる。

-k2,2 で、2列目から2列目を基準にソートする、という意味になる。

-nオプションでは、数字でソートする

```
$ seq 5 | awk '{print $1 % 2 ? "奇数" : "偶数"}' | sort | uniq -c | awk '{print $2$1}' | sort -k2,2n
```